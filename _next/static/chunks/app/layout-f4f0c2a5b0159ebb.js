(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{6475:function(e,t,a){Promise.resolve().then(a.bind(a,9091)),Promise.resolve().then(a.t.bind(a,2145,23))},9091:function(e,t,a){"use strict";a.d(t,{default:function(){return j}});var s=a(7437),r=a(2265),l=a(9089);let n=["/audio/Mark Eliyahu - Journey (s l o w e d r e v e r b).mp3"],i=e=>{let t=e.split("/").pop().replace(".mp3","").replace(/[-_]/g," "),a=t.split(" ");return a.length>10?"..."+a.slice(0,3).join(" "):t};function o(){let e=(0,r.useRef)(null),[t,a]=(0,r.useState)(!1),[o,c]=(0,r.useState)(.2),[d,u]=(0,r.useState)(!1),[h,x]=(0,r.useState)(0);return(0,s.jsxs)("div",{className:"w-full h-full text-white flex flex-col items-center justify-center z-50",children:[(0,s.jsx)("audio",{ref:e,loop:!0,className:"hidden",children:(0,s.jsx)("source",{src:n[h],type:"audio/mp3"})}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>{let a=(h+1)%n.length;x(a),e.current.src=n[a],t&&e.current.play()},className:"p-2 bg-transparent rounded-full hover:bg-secondary transition-all duration-300 mb-4",children:(0,s.jsx)(l.Nqc,{className:"w-6 h-6"})}),(0,s.jsx)("button",{onClick:()=>{t?e.current.pause():e.current.play().catch(e=>{console.error("خطا در پخش صدا:",e)}),a(!t)},className:"p-4 bg-primary rounded-full hover:bg-primary/70 transition-all duration-300 mb-4",children:t?(0,s.jsx)(l.Wh,{className:"w-6 h-6"}):(0,s.jsx)(l.gmG,{className:"w-6 h-6"})}),(0,s.jsx)("button",{onClick:()=>{let a=(h-1+n.length)%n.length;x(a),e.current.src=n[a],t&&e.current.play()},className:"p-2 bg-transparent rounded-full hover:bg-secondary transition-all duration-300 mb-4",children:(0,s.jsx)(l.qSR,{className:"w-6 h-6"})})]}),(0,s.jsxs)("div",{className:"text-center mb-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:i(n[h])}),(0,s.jsx)("p",{className:"text-xs text-gray-400",children:"Ambient Music"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>{e.current.muted=!d,u(!d)},className:"p-2 text-gray-400 hover:text-white transition-all duration-300",children:d?(0,s.jsx)(l.xZH,{className:"w-5 h-5"}):(0,s.jsx)(l.rxG,{className:"w-5 h-5"})}),(0,s.jsx)("input",{type:"range",min:"0",max:"1",step:"0.01",value:o,onChange:t=>{let a=t.target.value;e.current.volume=a,c(a)},className:"w-24 h-1 bg-gray-300 rounded-lg appearance-none cursor-pointer"})]})]})}var c=a(3145),d=a(3400);function u(e){let{showProfileSetting:t,setShowProfileSetting:a,name:n,logo:i,setLogo:o,handleNameChange:u}=e;return(0,r.useEffect)(()=>{let e=localStorage.getItem("logo");e&&o(e)},[o]),(0,s.jsx)(s.Fragment,{children:t&&(0,s.jsx)("div",{id:"modalBackground",className:"fixed inset-0 bg-black/50 flex items-start justify-start z-30",onClick:e=>{"modalBackground"===e.target.id&&a(!1)},children:(0,s.jsxs)("div",{className:"absolute right-4 top-4 text-white bg-gray-900 rounded-2xl overflow-hidden space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-16 bg-gray-800 p-4",children:[(0,s.jsx)(d.oHP,{className:"h-6 w-6 cursor-pointer hover:text-secondary/70 hover:transition-all hover:duration-150",onClick:()=>a(!1)}),(0,s.jsx)("h3",{children:"پروفایل من"})]}),(0,s.jsxs)("div",{className:"flex flex-col items-center p-4 space-y-4",children:[(0,s.jsxs)("label",{htmlFor:"imageUpload",className:"cursor-pointer relative",children:[i?(0,s.jsxs)("div",{className:"relative w-24 h-24 rounded-full overflow-hidden group",children:[(0,s.jsx)(c.default,{width:90,height:90,src:i,alt:"Profile",className:"w-24 h-24 object-cover"}),(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:(0,s.jsx)(d.Lfi,{className:"w-8 h-8 text-white"})})]}):(0,s.jsx)("div",{className:"flex items-center justify-center w-24 h-24 rounded-full border-2 border-gray-500",children:(0,s.jsx)(l.Xws,{className:"w-12 h-12 text-gray-500"})}),(0,s.jsx)("input",{type:"file",id:"imageUpload",className:"hidden",onChange:e=>{let t=e.target.files[0];if(t){if(!t.type.startsWith("image/")){alert("لطفاً یک فایل تصویر معتبر بارگذاری کنید.");return}if(t.size>5242880){alert("اندازه فایل نباید بیشتر از 5 مگابایت باشد.");return}let e=new FileReader;e.onloadend=()=>{let t=e.result;o(t),localStorage.setItem("logo",t)},e.readAsDataURL(t)}}})]}),(0,s.jsx)("input",{type:"text",value:n,onChange:u,placeholder:"اسم شما",className:"bg-transparent border border-white/20 p-2 rounded-2xl placeholder-white/40 focus:outline-none w-full"})]})]})})})}var h=a(9653),x=a(611),m=a(7648),p=a(9376);let g=[{name:"روز من",path:"/",icon:(0,s.jsx)(l.ULU,{className:"w-6 h-6"})}];function f(e){let{isNavVisible:t,setIsNavVisible:a}=e,n=(0,p.usePathname)(),i=(0,h._)(),[f,j]=(0,r.useState)(""),[w,N]=(0,r.useState)(!1),[v,b]=(0,r.useState)("");(0,r.useEffect)(()=>{let e=localStorage.getItem("userName"),t=localStorage.getItem("logo");e&&j(e),t&&b(t);let a=e=>{"logo"===e.key&&b(e.newValue)};return window.addEventListener("storage",a),()=>{window.removeEventListener("storage",a)}},[]);let y=e=>{let t=e.target.value;j(t),localStorage.setItem("userName",t)};return(0,s.jsxs)("div",{className:"relative hidden lg:block",children:[(0,s.jsxs)(x.E.nav,{initial:{x:"0%",opacity:1},animate:i,exit:{x:"100%",opacity:1},transition:{duration:.3,ease:"easeInOut"},className:"h-screen w-60 text-white backdrop px-4 py-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 pb-6",children:[(0,s.jsx)("div",{className:"flex items-center justify-center w-[59px] h-[40px] rounded-full overflow-hidden cursor-pointer",onClick:()=>{N(!0)},children:v?(0,s.jsx)("figure",{children:(0,s.jsx)(c.default,{width:90,height:90,src:v,alt:"Profile",className:"w-12 h-12 object-cover"})}):(0,s.jsx)(l.Xws,{})}),(0,s.jsx)("div",{className:"space-y-2",children:(0,s.jsx)("input",{type:"text",value:f,onChange:y,placeholder:"اسم شما",className:"bg-transparent w-full border border-white/20 p-2 rounded-2xl placeholder-white/40 focus:outline-none"})})]}),(0,s.jsx)("ul",{className:"space-y-2 border-t-2 py-4",children:g.map((e,t)=>(0,s.jsxs)(m.default,{href:e.path,className:"group flex items-center gap-2 p-2 rounded-xl cursor-pointer transition-colors duration-300 ".concat(n===e.path?"bg-primary text-white":"text-secondary hover:bg-secondary hover:text-black"),children:[r.cloneElement(e.icon,{className:"w-6 h-6 transition-colors duration-300 ".concat(n===e.path?"text-white":"text-primary group-hover:text-black")}),(0,s.jsx)("span",{className:"text-lg",children:e.name})]},t))}),(0,s.jsx)("div",{className:"w-full fixed bottom-0 right-0 py-8",children:(0,s.jsx)(o,{})})]}),(0,s.jsx)("button",{onClick:()=>{i.isAnimating||(t?i.start({x:"100%",opacity:.4}).then(()=>{a(!1)}):(a(!0),i.start({x:"0%",opacity:1})))},className:"fixed top-1/2 ".concat(t?"right-[216px] duration-[420ms]":"right-2 duration-[300ms]"," transform -translate-y-1/2 p-2 backdrop text-white rounded-full transition-all cursor-pointer z-10"),children:t?(0,s.jsx)(d.mGl,{className:"w-6 h-6"}):(0,s.jsx)(d.kyg,{className:"w-6 h-6"})}),(0,s.jsx)(u,{name:f,logo:v,setLogo:b,showProfileSetting:w,setShowProfileSetting:N,handleNameChange:y})]})}function j(e){let{children:t}=e,[a,l]=(0,r.useState)(!0),[n,i]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=()=>{i(window.innerWidth>=1024)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)(f,{isNavVisible:a,setIsNavVisible:l}),(0,s.jsx)(x.E.main,{className:"flex-1",animate:{marginRight:n?a?"-10px":"-300px":"0px",scale:a&&n?.95:1},transition:{duration:.3},children:t})]})}},2145:function(){}},function(e){e.O(0,[948,699,259,789,971,117,744],function(){return e(e.s=6475)}),_N_E=e.O()}]);